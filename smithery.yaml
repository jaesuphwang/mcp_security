name: mcp-security-guardian
version: "1.0.0"
description: "MCP Security Guardian - Basic security analysis for MCP communications"

# Smithery configuration for MCP server deployment
build:
  dockerfile: Dockerfile.minimal
  context: "."

# Server configuration
server:
  # Basic test server (more reliable for deployment)
  command: ["python3", "test_mcp_basic.py"]
  
  # Working directory
  workdir: /app
  
  # Minimal environment variables
  env:
    PYTHONPATH: /app
    LOG_LEVEL: INFO

# MCP server metadata
mcp:
  name: "mcp-security-guardian"
  version: "1.0.0"
  capabilities:
    resources: true
    tools: true
    prompts: false
    sampling: false
  
  tools:
    - name: "test_analyze"
      description: "Basic test analysis of instructions"

# Python requirements
python:
  version: "3.11"
  requirements_file: "requirements-minimal.txt"

# Simplified health check
health:
  interval: 60s
  timeout: 5s
  retries: 2

# Reduced resource limits for faster deployment
resources:
  memory: "256Mi"
  cpu: "0.25"

# Networking
networking:
  port: 8000
  protocol: "tcp"

# Deployment settings
deployment:
  replicas: 1
  strategy: "RollingUpdate"
  
# Labels and tags
labels:
  category: "security"
  type: "mcp-server"
  deployment: "minimal"
  
tags:
  - "security"
  - "mcp"
  - "basic" 